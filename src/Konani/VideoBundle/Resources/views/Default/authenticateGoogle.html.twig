{% extends '::base.html.twig' %}

{% block body %}
    {% if authUrl is defined %}
        <h3>Authorization Required</h3>
        <p>You need to <a href="{{ authUrl }}">authorize access</a> before uploading a video.<p>
    {% else %}
        <h3>You're successfully authenticated</h3>
        {% if channelLinked is defined %}
            <p>You can upload your videos <a href="{{ path('video_uploaded') }}">here</a>.</p>
        {% else %}
            <p>You have to <a target="_blank" href="https://www.youtube.com/create_channel?chromeless=1&next=/channel_creation_done">create a public channel</a> before uploading and then <a href="{{ path(app.request.attributes.get('_route')) }}">refresh</a> this page.</p>
        {% endif %}
    {% endif %}
{% endblock %}

